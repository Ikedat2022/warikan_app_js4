<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mtbukoh3のGitHub Pages</title>
    <link rel="stylesheet" href="https://ikedat2022.github.io/warikan_app_js4/index.css">
</head>

<body>
    <h1>フレンズ割り勘アプリ</h1>
    1人目：<input type="text" id="changeAName" placeholder="織田信長">
    2人目：<input type="text" id="changeBName" placeholder="豊臣秀吉">
    3人目：<input type="text" id="changeCName" placeholder="徳川家康">
    <button type="button" onclick="changeName()">お名前を設定します</button>
    <script language="JavaScript" type="text/javascript">
        function changeName() {
            var changedAName = document.getElementById('changeAName').value;
            document.getElementById('testA').textContent = changedAName + 'が';
            document.getElementById('testAA').textContent = changedAName + 'の分を';
            var changedBName = document.getElementById('changeBName').value;
            document.getElementById('testB').textContent = changedBName + 'が';
            document.getElementById('testBB').textContent = changedBName + 'の分を';
            var changedCName = document.getElementById('changeCName').value;
            document.getElementById('testC').textContent = changedCName + 'が';
            document.getElementById('testCC').textContent = changedCName + 'の分を';
        }
    </script>
    <br>
    <input type="radio" name="who" id="aPayment" value="aPayment" checked>
    <label for="aPayment" class="radio-button">
        <div id="testA">Aが</div>
    </label>
    <input type="radio" name="who" id="bPayment" value="bPayment">
    <label for="bPayment" class="radio-button">
        <div id="testB">Bが</div>
    </label>
    <input type="radio" name="who" id="cPayment" value="cPayment">
    <label for="cPayment" class="radio-button">
        <div id="testC">Cが</div>
    </label>
    <br>
    <input type="radio" name="toWho" id="toA" value="toA">
    <label for="toA" class="radio-button">
        <div id="testAA">Aの分を</div>
    </label>
    <input type="radio" name="toWho" id="toB" value="toB" checked>
    <label for="toB" class="radio-button">
        <div id="testBB">Bの分を</div>
    </label>
    <input type="radio" name="toWho" id="toC" value="toC">
    <label for="toC" class="radio-button">
        <div id="testCC">Cの分を</div>
    </label>
    <input type="checkbox" name="ogori" id="ogori" value="ogori">
    <label for="ogori" class="checkbox-button">おごりで</label>
    <br>
    <label for="toBeAddingAmount"></label>
    <input type="number" id="toBeAddingAmount">円を支払いました。


    <form id="calculator">
        <button id="submit">合計金額に追加します</button>
        <script src="script.js"></script>
    </form>

    <button type="button" onclick="alertHowManyPay()" id="alertButton">いくら払えばいい？</button>
    <script language="JavaScript" type="text/javascript">
        function alertHowManyPay() {
            // いくら払えばいい？
            let aPaymentToAAmount = parseInt(document.getElementById('aPaymentToAAmount').value);
            let aPaymentToBAmount = parseInt(document.getElementById('aPaymentToBAmount').value);
            let aPaymentToCAmount = parseInt(document.getElementById('aPaymentToCAmount').value);
            let bPaymentToAAmount = parseInt(document.getElementById('bPaymentToAAmount').value);
            let bPaymentToBAmount = parseInt(document.getElementById('bPaymentToBAmount').value);
            let bPaymentToCAmount = parseInt(document.getElementById('bPaymentToCAmount').value);
            let cPaymentToAAmount = parseInt(document.getElementById('cPaymentToAAmount').value);
            let cPaymentToBAmount = parseInt(document.getElementById('cPaymentToBAmount').value);
            let cPaymentToCAmount = parseInt(document.getElementById('cPaymentToCAmount').value);
            let aPaymentToAOgoriAmount = parseInt(document.getElementById('aPaymentToAOgoriAmount').value);
            let aPaymentToBOgoriAmount = parseInt(document.getElementById('aPaymentToBOgoriAmount').value);
            let aPaymentToCOgoriAmount = parseInt(document.getElementById('aPaymentToCOgoriAmount').value);
            let bPaymentToAOgoriAmount = parseInt(document.getElementById('bPaymentToAOgoriAmount').value);
            let bPaymentToBOgoriAmount = parseInt(document.getElementById('bPaymentToBOgoriAmount').value);
            let bPaymentToCOgoriAmount = parseInt(document.getElementById('bPaymentToCOgoriAmount').value);
            let cPaymentToAOgoriAmount = parseInt(document.getElementById('cPaymentToAOgoriAmount').value);
            let cPaymentToBOgoriAmount = parseInt(document.getElementById('cPaymentToBOgoriAmount').value);
            let cPaymentToCOgoriAmount = parseInt(document.getElementById('cPaymentToCOgoriAmount').value);
            let splitAmount1 = 0;
            let splitAmount2 = 0;
            let splitAmount3 = 0;
            let numberOfPeople = 0;
            let MsgAB = null;
            let MsgBC = null;
            let MsgCA = null;

            let aName = null;
            let bName = null;
            let cName = null;
            console.log(document.getElementById('changeAName').value);
            if (document.getElementById('changeAName').value == '' || document.getElementById('changeAName').value == null) {
                aName = '織田信長';
            } else {
                aName = document.getElementById('changeAName').value;
            }
            if (document.getElementById('changeBName').value == '' || document.getElementById('changeBName').value == null) {
                bName = '豊臣秀吉';
            } else {
                bName = document.getElementById('changeBName').value;
            }
            if (document.getElementById('changeCName').value == '' || document.getElementById('changeCName').value == null) {
                cName = '徳川家康';
            } else {
                cName = document.getElementById('changeCName').value;
            }

            // AさんとBさん
            if ((aPaymentToBAmount - aPaymentToBOgoriAmount) > (bPaymentToAAmount - bPaymentToAOgoriAmount)) {
                const amountAIsPayingMore = (aPaymentToBAmount - aPaymentToBOgoriAmount) - (bPaymentToAAmount - bPaymentToAOgoriAmount);
                MsgAB = (bName + 'さんは' + aName + 'さんに' + amountAIsPayingMore + '円支払ってください。\n');
            } else if ((aPaymentToBAmount - aPaymentToBOgoriAmount) < (bPaymentToAAmount - bPaymentToAOgoriAmount)) {
                const amountAIsPayingLess = (bPaymentToAAmount - bPaymentToAOgoriAmount) - (aPaymentToBAmount - aPaymentToBOgoriAmount);
                MsgAB = (aName + 'さんは' + bName + 'さんに' + amountAIsPayingLess + '円支払ってください。\n');
            } else {
                MsgAB = null;
            }
            console.log('MsgAB：' + MsgAB);

            // BさんとCさん
            if ((bPaymentToCAmount - bPaymentToCOgoriAmount) > (cPaymentToBAmount - cPaymentToBOgoriAmount)) {
                const amountBIsPayingMore = (bPaymentToCAmount - bPaymentToCOgoriAmount) - (cPaymentToBAmount - cPaymentToBOgoriAmount);
                MsgBC = (cName + 'さんは' + bName + 'さんに' + amountBIsPayingMore + '円支払ってください。\n');
            } else if ((bPaymentToCAmount - bPaymentToCOgoriAmount) < (cPaymentToBAmount - cPaymentToBOgoriAmount)) {
                const amountBIsPayingLess = (cPaymentToBAmount - cPaymentToBOgoriAmount) - (bPaymentToCAmount - bPaymentToCOgoriAmount);
                MsgBC = (bName + 'さんは' + cName + 'さんに' + amountBIsPayingLess + '円支払ってください。\n');
            } else {
                MsgBC = null;
            }
            console.log('MsgBC：' + MsgBC);

            // CさんとAさん
            if ((cPaymentToAAmount - cPaymentToAOgoriAmount) > (aPaymentToCAmount - aPaymentToCOgoriAmount)) {
                const amountCIsPayingMore = (cPaymentToAAmount - cPaymentToAOgoriAmount) - (aPaymentToCAmount - aPaymentToCOgoriAmount);
                MsgCA = (aName + 'さんは' + cName + 'さんに' + amountCIsPayingMore + '円支払ってください。');
            } else if ((cPaymentToAAmount - cPaymentToAOgoriAmount) < (aPaymentToCAmount - aPaymentToCOgoriAmount)) {
                const amountCIsPayingLess = (aPaymentToCAmount - aPaymentToCOgoriAmount) - (cPaymentToAAmount - cPaymentToAOgoriAmount);
                MsgCA = (cName + 'さんは' + aName + 'さんに' + amountCIsPayingLess + '円支払ってください。');
            } else {
                MsgCA = null;
            }
            console.log('MsgCA：' + MsgCA);

            let alertMsg = '';
            if (MsgAB == null && MsgBC == null && MsgCA == null) {
                alertMsg = '…金額、一緒だったね///'
                alert(alertMsg);
            } else {
                if (MsgAB != null) {
                    alertMsg = MsgAB;
                }
                if (MsgBC != null) {
                    alertMsg += MsgBC;
                }
                if (MsgCA != null) {
                    alertMsg += MsgCA;
                }
                alert(alertMsg);
            }
        }

    </script>
    <button type="button" onclick="inputAllDataClear()">データを削除する</button>
    <script language="JavaScript" type="text/javascript">
        function inputAllDataClear() {
            if (confirm('え〜、データ全部消しちゃっていいのお？')) {
                document.getElementById('toBeAddingAmount').value = "";
                document.getElementById('totalAmount').value = 0;
                document.getElementById('aPaymentToAAmount').value = 0;
                document.getElementById('aPaymentToBAmount').value = 0;
                document.getElementById('aPaymentToCAmount').value = 0;
                document.getElementById('bPaymentToAAmount').value = 0;
                document.getElementById('bPaymentToBAmount').value = 0;
                document.getElementById('bPaymentToCAmount').value = 0;
                document.getElementById('cPaymentToAAmount').value = 0;
                document.getElementById('cPaymentToBAmount').value = 0;
                document.getElementById('cPaymentToCAmount').value = 0;
                document.getElementById('aPaymentToAOgoriAmount').value = 0;
                document.getElementById('aPaymentToBOgoriAmount').value = 0;
                document.getElementById('aPaymentToCOgoriAmount').value = 0;
                document.getElementById('bPaymentToAOgoriAmount').value = 0;
                document.getElementById('bPaymentToBOgoriAmount').value = 0;
                document.getElementById('bPaymentToCOgoriAmount').value = 0;
                document.getElementById('cPaymentToAOgoriAmount').value = 0;
                document.getElementById('cPaymentToBOgoriAmount').value = 0;
                document.getElementById('cPaymentToCOgoriAmount').value = 0;
                alert('やーば。いや、さすがにやべえ。おー、金！金だろ！いやマジで。金だろ普通に');
            }
        }
    </script>
    <br>
    <label for="totalAmount">合計金額:</label>
    <input type="number" id="totalAmount" value=0 required>円
    <br>
    <label for="aPaymentToAAmount">AがAに支払った金額:</label>
    <input type="number" id="aPaymentToAAmount" value=0 required>円
    <label for="aPaymentToBAmount">AがBに支払った金額:</label>
    <input type="number" id="aPaymentToBAmount" value=0 required>円
    <label for="aPaymentToCAmount">AがCに支払った金額:</label>
    <input type="number" id="aPaymentToCAmount" value=0 required>円
    <label for="bPaymentToAAmount">BがAに支払った金額:</label>
    <input type="number" id="bPaymentToAAmount" value=0 required>円
    <label for="bPaymentToBAmount">BがBに支払った金額:</label>
    <input type="number" id="bPaymentToBAmount" value=0 required>円
    <label for="bPaymentToCAmount">BがCに支払った金額:</label>
    <input type="number" id="bPaymentToCAmount" value=0 required>円
    <label for="cPaymentToAAmount">CがAに支払った金額:</label>
    <input type="number" id="cPaymentToAAmount" value=0 required>円
    <label for="cPaymentToBAmount">CがBに支払った金額:</label>
    <input type="number" id="cPaymentToBAmount" value=0 required>円
    <label for="cPaymentToCAmount">CがCに支払った金額:</label>
    <input type="number" id="cPaymentToCAmount" value=0 required>円
    <br>
    <label for="aPaymentToAOgoriAmount">AがAにおごり:</label>
    <input type="number" id="aPaymentToAOgoriAmount" value=0 required>円
    <label for="aPaymentToBOgoriAmount">AがBにおごり:</label>
    <input type="number" id="aPaymentToBOgoriAmount" value=0 required>円
    <label for="aPaymentToCOgoriAmount">AがCにおごり:</label>
    <input type="number" id="aPaymentToCOgoriAmount" value=0 required>円
    <label for="bPaymentToAOgoriAmount">BがAにおごり:</label>
    <input type="number" id="bPaymentToAOgoriAmount" value=0 required>円
    <label for="bPaymentToBOgoriAmount">BがBにおごり:</label>
    <input type="number" id="bPaymentToBOgoriAmount" value=0 required>円
    <label for="bPaymentToCOgoriAmount">BがCにおごり:</label>
    <input type="number" id="bPaymentToCOgoriAmount" value=0 required>円
    <label for="cPaymentToAOgoriAmount">CがAにおごり:</label>
    <input type="number" id="cPaymentToAOgoriAmount" value=0 required>円
    <label for="cPaymentToBOgoriAmount">CがBにおごり:</label>
    <input type="number" id="cPaymentToBOgoriAmount" value=0 required>円
    <label for="cPaymentToCOgoriAmount">CがCにおごり:</label>
    <input type="number" id="cPaymentToCOgoriAmount" value=0 required>円
    <br>
    <h2>
        このアプリの目的
    </h2>
    <p>割り勘アプリだと、自分と相手が異なる値段を立て替え払いしたとき、平等に計算されてしまってモヤモヤしませんか？</p>
    <p>開発者自身も端数はあまり考慮しない人ですが、アバウトすぎるとモヤモヤ、いくらくらい多くもらっているのか気になってしまいます。</p>
    <p>かといって電卓でいちいち足したり引いたりとしていると、入力を間違えてしまったり、1個の電卓でやるのは厳しかったり、そもそもダサいなとか思っていました。</p>
    <p>そこで誰が誰に入力するか、1個1個の入力するだけで計算される割り勘アプリを作成してみました。</p>
    <p>単純な割り勘ではないのでまだ2人用しか作成できていませんが、仲の良い友人や取引先の方とでも使っていただけると幸いです。</p>
    <h2>
        アプリの計算方法
    </h2>
    <p>わたし/あなたが払った金額と(わたし/あなたの支払うべき分の金額-あなた/わたしがおごった金額)を比較します。</p>
    <p>「いくら払えばいい？」ボタンを押すと、払った金額が多い方に不足分金額を支払うようにアラートを出します。</p>
</body>

</html>
